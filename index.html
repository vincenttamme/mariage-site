<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mariage ‚Äî L√©a & Vincent</title>
  <meta name="description" content="Le site officiel de notre mariage ‚Äî programme, lieu, RSVP, infos pratiques." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Palette DA blanc & or */
      --bg:#ffffff;         /* blanc */
      --txt:#172338;        /* bleu nuit √©l√©gant */
      --muted:#6b7280;      /* gris neutre */
      --brand:#D1AE6F;      /* or */
      --brand-2:#b89252;    /* or plus soutenu (hover) */
      --card:#ffffff;       /* cartes blanches */
      --accent:#fff7e6;     /* voile ivoire tr√®s l√©ger */
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--txt);font-family:Mulish,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;scroll-behavior:smooth}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;display:block}
    .container{width:100%;max-width:1100px;margin:0 auto;padding:24px}
    .btn{display:inline-block;padding:12px 18px;border-radius:999px;background:var(--brand);border:1px solid var(--brand);color:#fff;font-weight:700;letter-spacing:.02em;transition:.2s;}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(209,174,111,.25);background:var(--brand-2);border-color:var(--brand-2)}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(124,58,237,.25)}
    .btn-outline{background:#fff;border:1px solid var(--brand);color:var(--brand)}
    .btn-outline:hover{background:var(--accent)}
    header.hero{position:relative;overflow:hidden}
    .hero-bg{position:absolute;inset:0;background:radial-gradient(1200px 600px at 80% -20%, var(--accent), transparent),radial-gradient(800px 400px at 10% 10%, #e0e7ff55, transparent)}
    .hero-inner{position:relative;z-index:1;display:grid;gap:20px;align-items:center;min-height:70vh;grid-template-columns:1.2fr 1fr}
    @media (max-width:900px){.hero-inner{grid-template-columns:1fr;min-height:auto}}
    .names{font-family:"Playfair Display",serif;font-size:clamp(36px,6vw,64px);line-height:1.05;margin:0}
    .date{font-weight:600;color:var(--muted);letter-spacing:.06em;text-transform:uppercase}
    .card{background:var(--card);border:1px solid #eee;border-radius:18px;padding:20px;box-shadow:0 8px 30px rgba(31,41,55,.06)}
    .grid{display:grid;gap:18px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    @media (max-width:800px){.grid.cols-2{grid-template-columns:1fr}}
    section{padding:56px 0}
    h2{font-family:"Playfair Display",serif;font-size:clamp(28px,3.6vw,40px);margin:0 0 16px;position:relative}
    h2::after{content:"";display:block;width:60px;height:2px;background:var(--brand);margin-top:10px;border-radius:2px;opacity:.85}
    .muted{color:var(--muted)}
    .pill{display:inline-block;padding:6px 12px;border-radius:999px;background:var(--accent);border:1px solid #f3e4c4;color:#7a5a1a;font-weight:700;font-size:14px}
    .timeline{display:grid;gap:12px}
    .timeline .item{display:grid;grid-template-columns:120px 1fr;gap:16px;align-items:start}
    .time{font-weight:700}
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    @media (max-width:800px){.gallery{grid-template-columns:repeat(2,1fr)}}
    .footer{padding:36px 0;color:var(--muted);text-align:center;border-top:1px solid #eee}
    .map{border:0;width:100%;height:360px;border-radius:16px}
    .registry{display:flex;flex-wrap:wrap;gap:12px}
    .registry a{border:1px solid #e5e7eb;border-radius:12px;padding:10px 14px;background:#fff}
    .countdown{display:flex;gap:14px;flex-wrap:wrap}
    .cd-box{min-width:90px;text-align:center;background:#fff;border:1px solid #eee;border-radius:14px;padding:12px}
    .cd-box .num{font-size:28px;font-weight:800}
    .notice{background:#fef3c7;border:1px solid #fde68a;color:#92400e;padding:10px 14px;border-radius:12px}
      /* ---- Micro-interactions √©l√©gantes (sans confettis) ---- */
    .btn.success{background:#10b981;border-color:#10b981}
    .btn.success .label{display:none}
    .btn.success .check{display:inline-block}
    .btn .check{display:none;vertical-align:-2px}
    .ring{position:fixed;inset:0;pointer-events:none}
    .ring::after{content:"";position:absolute;left:50%;top:120px;width:6px;height:6px;border-radius:999px;box-shadow:0 0 0 0 rgba(16,185,129,.35);transform:translate(-50%,-50%);animation:ring 1.2s ease-out both}
    @keyframes ring{to{box-shadow:0 0 0 160px rgba(16,185,129,0)}}

    /* ---- Timeline reveal ---- */
    .timeline .item{opacity:0;transform:translateY(12px);transition:opacity .6s ease, transform .6s ease}
    .timeline .item.revealed{opacity:1;transform:none}

    /* ---- Lightbox minimaliste ---- */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.72);display:none;align-items:center;justify-content:center;padding:24px;z-index:50}
    .lightbox.open{display:flex}
    .lightbox img{max-width:92vw;max-height:92vh;border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.4)}
    .lightbox .close{position:absolute;top:16px;right:16px;background:#fff;border:1px solid #eee;border-radius:999px;padding:6px 10px;font-weight:700}

    /* ---- Toast discret ---- */
    .toast{position:fixed;left:50%;top:110px;transform:translateX(-50%);background:#172338;color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.25);opacity:0;transition:opacity .3s ease;z-index:60;border:1px solid rgba(209,174,111,.45)}
    .toast.show{opacity:1}
      /* ====== Hero vid√©o cin√©matique ====== */
    .hero-video{position:relative;width:100%;height:100vh;min-height:520px;overflow:hidden}
    .hero-video iframe{position:absolute;top:50%;left:50%;width:120vw;height:120vh;transform:translate(-50%,-50%);object-fit:cover;pointer-events:none;border:0}
    .hero-video .overlay{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.15) 30%,rgba(0,0,0,.28));padding:24px}
    .hero-video .names{color:#fff;text-shadow:0 6px 28px rgba(0,0,0,.45)}
    .hero-video .date{color:#e5e7eb;letter-spacing:.06em;text-transform:uppercase}
    .overlay .cta{margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
    .overlay #countdown .cd-box{background:rgba(255,255,255,.12);border-color:rgba(255,255,255,.28);backdrop-filter:blur(4px);color:#fff}
      /* ====== Header transparent ====== */
    .site-header{position:fixed;z-index:80;left:0;right:0;top:0;background:transparent;transition:background .25s ease, box-shadow .25s ease, border-color .25s ease;border-bottom:1px solid transparent}
    .header-inner{display:flex;align-items:center;justify-content:space-between;padding:14px 24px}
    .site-header .brand{font-family:"Playfair Display",serif;font-weight:700;color:#fff}
    .site-header .nav{display:flex;gap:18px;align-items:center}
    .site-header .nav a{color:#fff}
    .site-header.scrolled{background:rgba(255,255,255,.85);backdrop-filter:blur(8px);border-bottom:1px solid rgba(209,174,111,.35)}
    .site-header.scrolled .nav a{color:var(--txt)}
    .site-header.scrolled .brand{color:var(--txt)}

    /* ====== Hero vid√©o cin√©matique (cover via JS, pas d'object-fit) ====== */
    .hero-video{position:relative;width:100%;height:100vh;min-height:520px;overflow:hidden}
    .hero-video iframe{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100vw;height:56.25vw; /* 16:9 responsive base */}
    @media (max-aspect-ratio:16/9){
      .hero-video iframe{width:177.78vh;height:100vh} /* √©largir pour couvrir en mode portrait */
    }
    .hero-video .overlay{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.15) 30%,rgba(0,0,0,.28));padding:24px}
    .hero-video .names{color:#fff;text-shadow:0 6px 28px rgba(0,0,0,.45)}
    .hero-video .date{color:#e5e7eb;letter-spacing:.06em;text-transform:uppercase}
    .overlay .cta{margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
    .overlay #countdown .cd-box{background:rgba(255,255,255,.12);border-color:rgba(255,255,255,.28);backdrop-filter:blur(4px);color:#fff}
  </style>
</head>
<body>
  <!-- Header global transparent -->
  <header class="site-header" role="navigation" aria-label="Navigation principale">
    <div class="container header-inner">
      <a href="#top" class="brand">L√©a&nbsp;&amp;&nbsp;Vincent</a>
      <nav class="nav">
        <a href="#programme">Programme</a>
        <a href="#lieu">Lieu</a>
        <a href="#infos">Infos</a>
        <a href="#galerie">Galerie</a>
        <a class="btn btn-outline" href="#rsvp">RSVP</a>
      </nav>
    </div>
  </header>
  <section class="hero-video" aria-label="Accueil vid√©o">
    <iframe src="https://www.youtube.com/embed/i6GbH-MuiWU?autoplay=1&mute=1&controls=0&loop=1&playlist=i6GbH-MuiWU" title="Vid√©o d'accueil L√©a & Vincent" allow="autoplay; fullscreen" loading="eager"></iframe>
    <div class="overlay">
      <p class="pill" style="background:rgba(255,255,255,.2);border-color:rgba(255,255,255,.4);color:#fff">Vous √™tes invit√©s ‚ú®</p>
      <h1 class="names">L√©a &amp; Vincent</h1>
      <p class="date">Domaine de Baldass√© ¬∑ Aveyron</p>
      <div class="countdown" id="countdown" aria-live="polite"></div>
      <div class="cta">
        <a class="btn" href="#rsvp">RSVP</a>
        <a class="btn btn-outline" href="#programme" style="background:rgba(255,255,255,.85)">Programme</a>
      </div>
    </div>
  </section>

  <main>
    <section id="histoire">
      <div class="container grid cols-2">
        <div>
          <h2>Notre histoire</h2>
          <p class="muted">Quelques lignes pour raconter votre rencontre, votre demande, vos passions communes‚Ä¶ Gardez un ton simple et chaleureux.</p>
          <p>Nous sommes ravis de vous accueillir pour c√©l√©brer notre mariage. Ce site rassemble tout ce dont vous avez besoin : programme, adresse, RSVP, h√©bergements, et petites infos utiles.</p>
        </div>
        <div class="card">
          <div class="gallery">
            <img src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200&auto=format&fit=crop" alt="Souvenir 1"/>
            <img src="https://images.unsplash.com/photo-1482575832494-771f74bf6857?q=80&w=1200&auto=format&fit=crop" alt="Souvenir 2"/>
            <img src="https://images.unsplash.com/photo-1456327102063-fb5054efe647?q=80&w=1200&auto=format&fit=crop" alt="Souvenir 3"/>
          </div>
        </div>
      </div>
    </section>

    <section id="programme" style="background:linear-gradient(#fff, #fafaff)">
      <div class="container">
        <h2>Programme du week‚Äëend</h2>
        $1
          <div class="item"><div class="time">Vendredi ‚Äî 19:00</div><div><strong>Accueil & verre de bienvenue</strong><br><span class="muted">Rencontre informelle pour ceux qui arrivent la veille</span></div></div>
          <div class="item"><div class="time">Samedi ‚Äî 14:00</div><div><strong>C√©r√©monie</strong><br><span class="muted">Domaine de Baldass√©</span></div></div>
          <div class="item"><div class="time">Samedi ‚Äî 16:00</div><div><strong>Vin d'honneur</strong><br><span class="muted">Terrasse du domaine</span></div></div>
          <div class="item"><div class="time">Samedi ‚Äî 19:30</div><div><strong>D√Æner</strong><br><span class="muted">Salle du domaine</span></div></div>
          <div class="item"><div class="time">Samedi ‚Äî 23:00</div><div><strong>Soir√©e</strong><br><span class="muted">DJ jusqu'√† tard ‚ú®</span></div></div>
          <div class="item"><div class="time">Dimanche ‚Äî 11:30</div><div><strong>Brunch</strong><br><span class="muted">Au domaine, tenue d√©contract√©e</span></div></div>
        </div>
      </div>
    </section>

    <section id="lieu">
      <div class="container grid cols-2">
        <div>
          <h2>Lieu</h2>
          <p class="muted">Domaine de Baldass√© ‚Äî adresse √† pr√©ciser</p>
          <p>Parking gratuit sur place. Merci de privil√©gier le covoiturage. Des navettes seront organis√©es au d√©part de Lyon Part‚ÄëDieu (18h & 01h).</p>
          <div class="notice">Allergies alimentaires ? Dites‚Äële dans le formulaire RSVP.</div>
        </div>
        <div class="card">
          <!-- Remplacez l'URL de la carte par celle du vrai lieu (Google Maps > Partager > Int√©grer une carte) -->
          <iframe class="map" loading="lazy" allowfullscreen src="https://www.google.com/maps?q=Domaine%20de%20Baldass%C3%A9&output=embed"></iframe>
        </div>
      </div>
    </section>

    <section id="infos" style="background:linear-gradient(#fafaff, #fff)">
      <div class="container grid cols-2">
        <div class="card">
          <h2>H√©bergements & trajets</h2>
          <ul>
            <li>H√¥tels & g√Ætes √† proximit√© : <a href="#">suggestions √† venir</a></li>
            <li>Gare la plus proche : √† pr√©ciser</li>
            <li>A√©roport : √† pr√©ciser</li>
            <li>Covoiturage : cr√©ez/joignez un trajet <a href="#">ici</a></li>
          </ul>
        </div>
        <div class="card">
          <h2>Tenue & petite FAQ</h2>
          <ul>
            <li>Style : √©l√©gant sobre</li>
            <li>Enfants bienvenus (coin jeux)</li>
            <li>Photos : oui ! Partagez avec <strong>#LeaVincent</strong></li>
          </ul>
        </div>
      </div>
    </section>

    <section id="galerie">
      <div class="container">
        <h2>Galerie</h2>
        <p class="muted">Quelques images & une mini‚Äëvid√©o (teaser). Vous pourrez ajouter vos photos apr√®s l'√©v√©nement.</p>
        <div class="grid cols-2">
          <div class="card">
            <div class="gallery">
              <img src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200&auto=format&fit=crop" alt="Souvenir 1"/>
              <img src="https://images.unsplash.com/photo-1482575832494-771f74bf6857?q=80&w=1200&auto=format&fit=crop" alt="Souvenir 2"/>
              <img src="https://images.unsplash.com/photo-1456327102063-fb5054efe647?q=80&w=1200&auto=format&fit=crop" alt="Souvenir 3"/>
            </div>
          </div>
          <div class="card">
            <video controls preload="metadata" style="width:100%;border-radius:12px">
              <!-- Remplace par ton fichier MP4 (H.264) ou un lien YouTube/Vimeo int√©gr√© -->
              <source src="" type="video/mp4" />
              Votre navigateur ne supporte pas la lecture vid√©o.
            </video>
            <p class="muted" style="margin:8px 0 0">Mini‚Äëvid√©o teaser (30‚Äì60 s).</p>
          </div>
        </div>
      </div>
    </section>

    <section id="rsvp">
      <div class="container grid cols-2">
        <div>
          <h2>RSVP</h2>
          <p class="muted">Merci de confirmer avant le <strong>1er mai 2026</strong>.</p>
          <p>Le formulaire ci-dessous enverra directement votre r√©ponse. Vous recevrez une confirmation √† l'√©cran.</p>
          <ul class="muted">
            <li>Nous recueillons : noms/pr√©noms, email, pr√©sence, nombre d'invit√©s, allergies, besoin de navette, brunch.</li>
            <li>Vos donn√©es ne sont utilis√©es que pour l'organisation de l'√©v√©nement.</li>
          </ul>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
            <a class="btn btn-outline" href="#programme">Voir le programme</a>
            <a class="btn btn-outline" href="#infos">Infos pratiques</a>
          </div>
        </div>

        <!-- Formulaire RSVP int√©gr√© (Formspree) -->
        <form id="rsvp-form" class="card" aria-labelledby="rsvp" autocomplete="on">
          <!-- Remplacez l'URL du endpoint Formspree ci-dessous (ex: https://formspree.io/f/abcdwxyz) -->
          <input type="hidden" id="fs-endpoint" value="https://formspree.io/f/abcdwxyz" />
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
          <div class="grid" style="grid-template-columns:1fr 1fr;gap:12px">
            <label>Pr√©nom<br><input name="prenom" required placeholder="Votre pr√©nom" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px"></label>
            <label>Nom<br><input name="nom" required placeholder="Votre nom" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px"></label>
            <label style="grid-column:1/-1">Email<br><input name="email" type="email" required placeholder="vous@mail.com" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px"></label>
            <label>Pr√©sence<br>
              <select name="presence" required style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px">
                <option value="oui">Je viens</option>
                <option value="non">Je ne peux pas venir</option>
                <option value="tbd">Je ne sais pas encore</option>
              </select>
            </label>
            <label>Nombre d'invit√©s<br><input name="nb_invites" type="number" min="1" value="1" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px"></label>
            <label style="grid-column:1/-1">Allergies / r√©gime<br><input name="allergies" placeholder="ex. v√©g√©tarien, sans gluten‚Ä¶" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px"></label>
            <label>Brunch dimanche<br>
              <select name="brunch" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px">
                <option>Oui</option><option>Non</option><option>Ind√©cis</option>
              </select>
            </label>
            <label>Navette<br>
              <select name="navette" style="width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px">
                <option>Aller</option><option>Retour</option><option>Aller + Retour</option><option>Pas besoin</option>
              </select>
            </label>
            <button id="rsvp-submit" class="btn" style="grid-column:1/-1">
              <span class="label">Envoyer</span>
              <span class="check">‚úì</span>
            </button>
          </div>
          <p id="rsvp-note" class="muted" style="margin:10px 0 0;display:none">Merci, nous avons bien re√ßu votre r√©ponse.</p>
        </form>
      </div>

      <!-- √âl√©ments d'UI pour feedback √©l√©gant -->
      <div id="ring" class="ring" aria-hidden="true"></div>
      <div id="toast" class="toast" role="status" aria-live="polite">Merci ! Votre r√©ponse est enregistr√©e.</div>
    </section>

    <section id="cadeaux" style="background:linear-gradient(#fff, #fafafc)">
      <div class="container">
        <h2>Liste de mariage</h2>
        <p class="muted">Votre pr√©sence est notre plus beau cadeau. Pour les personnes qui le souhaitent :</p>
        <div class="registry">
          <a href="#">Leetchi / cagnotte</a>
          <a href="#">Liste Galeries Lafayette</a>
          <a href="#">Liste Amazon</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© <span id="year"></span> L√©a & Vincent ¬∑ Merci d'√™tre √† nos c√¥t√©s ‚ù§Ô∏è</p>
      <p class="muted">Besoin d'aide ? √âcrivez‚Äënous : <a href="mailto:leaetvincent@example.com">aliceetmarc@example.com</a></p>
    </div>
  </footer>

  <script>
    // --------- Compte √† rebours (modifiez la date/heure ci‚Äëdessous) ---------
    // TODO: remplace par ta vraie date (ex: '2026-06-20T14:00:00+02:00')
    const target = new Date('2026-06-20T14:00:00+02:00'); // ‚Üê remplacez par votre date
    const el = document.getElementById('countdown');
    function pad(n){return String(n).padStart(2,'0')}
    function tick(){
      const now = new Date();
      let ms = target - now;
      if(ms < 0){el.innerHTML = '<span class="pill">C\'est le grand jour ! üéâ</span>';return}
      const d = Math.floor(ms/86400000); ms -= d*86400000;
      const h = Math.floor(ms/3600000); ms -= h*3600000;
      const m = Math.floor(ms/60000); ms -= m*60000;
      const s = Math.floor(ms/1000);
      el.innerHTML = `
        <div class="cd-box"><div class="num">${d}</div><div>jours</div></div>
        <div class="cd-box"><div class="num">${pad(h)}</div><div>heures</div></div>
        <div class="cd-box"><div class="num">${pad(m)}</div><div>min</div></div>
        <div class="cd-box"><div class="num">${pad(s)}</div><div>sec</div></div>`;
    }
    tick(); setInterval(tick,1000);
    // ann√©e dynamique en pied de page
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script>
    // --------- Compte √† rebours (modifiez la date/heure ci‚Äëdessous) ---------
    const target = new Date('2026-06-20T14:00:00+02:00'); // ‚Üê remplacez par votre date
    const el = document.getElementById('countdown');
    function pad(n){return String(n).padStart(2,'0')}
    function tick(){
      const now = new Date();
      let ms = target - now;
      if(ms < 0){el.innerHTML = '<span class="pill">C\'est le grand jour ! üéâ</span>';return}
      const d = Math.floor(ms/86400000); ms -= d*86400000;
      const h = Math.floor(ms/3600000); ms -= h*3600000;
      const m = Math.floor(ms/60000); ms -= m*60000;
      const s = Math.floor(ms/1000);
      const soon = (d <= 30);
      el.style.filter = soon ? 'saturate(1.1)' : 'none';
      el.innerHTML = `
        <div class=\"cd-box\"><div class=\"num\">${d}</div><div>jours</div></div>
        <div class=\"cd-box\"><div class=\"num\">${pad(h)}</div><div>heures</div></div>
        <div class=\"cd-box\"><div class=\"num\">${pad(m)}</div><div>min</div></div>
        <div class=\"cd-box\"><div class=\"num\">${pad(s)}</div><div>sec</div></div>`;
    }
    tick(); setInterval(tick,1000);

    // --------- Timeline reveal (IntersectionObserver) ---------
    const items = document.querySelectorAll('.timeline .item');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('revealed'); io.unobserve(e.target); } });
    }, {threshold: .15});
    items.forEach(i=>io.observe(i));

    // --------- Lightbox minimaliste pour la galerie ---------
    const lb = document.createElement('div');
    lb.className = 'lightbox';
    lb.innerHTML = '<button class="close" aria-label="Fermer">Fermer ‚úï</button><img alt=""/>';
    document.body.appendChild(lb);
    const lbImg = lb.querySelector('img');
    lb.addEventListener('click', e=>{ if(e.target===lb || e.target.classList.contains('close')) lb.classList.remove('open'); });
    document.querySelectorAll('.gallery img').forEach(img=>{
      img.loading = 'lazy';
      img.style.cursor = 'zoom-in';
      img.addEventListener('click', ()=>{ lbImg.src = img.src; lb.classList.add('open'); });
    });

    // --------- RSVP via Formspree (POST FormData) ---------
    const rsvpForm = document.getElementById('rsvp-form');
    const rsvpSubmit = document.getElementById('rsvp-submit');
    const rsvpNote = document.getElementById('rsvp-note');
    const fsEndpoint = document.getElementById('fs-endpoint').value; // <- remplacez par votre endpoint Formspree
    const ring = document.getElementById('ring');
    const toast = document.getElementById('toast');

    rsvpForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      rsvpSubmit.disabled = true;
      const formData = new FormData(rsvpForm);
      formData.append('_subject', 'RSVP Mariage ‚Äî Nouvelle r√©ponse');
      try{
        const res = await fetch(fsEndpoint, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } });
        if(!res.ok) throw new Error('Erreur envoi');
        rsvpSubmit.classList.add('success');
        rsvpSubmit.querySelector('.check').textContent = '‚úì';
        ring.classList.add('show');
        toast.classList.add('show');
        rsvpNote.style.display = 'block';
        setTimeout(()=>{ toast.classList.remove('show'); }, 2200);
        // Reset visuel doux
        setTimeout(()=>{ rsvpSubmit.disabled = false; }, 800);
        rsvpForm.reset();
      }catch(err){
        toast.textContent = "Oups, impossible d'envoyer. R√©essayez ou contactez-nous.";
        toast.classList.add('show');
        setTimeout(()=>toast.classList.remove('show'), 2600);
        rsvpSubmit.disabled = false;
      }finally{
        // petit effet d'onde √©l√©gante (ring)
        ring.classList.remove('show');
        ring.offsetHeight; // reflow pour relancer l'anim
        ring.classList.add('show');
        setTimeout(()=> ring.classList.remove('show'), 1200);
      }
    });
  </script>
  <script>
    // --------- Compte √† rebours (modifiez la date/heure ci‚Äëdessous) ---------
    // TODO: remplace par ta vraie date (ex: '2026-06-20T14:00:00+02:00')
    const target = new Date('2026-06-20T14:00:00+02:00');
    const el = document.getElementById('countdown');
    function pad(n){return String(n).padStart(2,'0')}
    function tick(){
      const now = new Date();
      let ms = target - now;
      if(ms < 0){el.innerHTML = '<span class="pill">C\'est le grand jour ! üéâ</span>';return}
      const d = Math.floor(ms/86400000); ms -= d*86400000;
      const h = Math.floor(ms/3600000); ms -= h*3600000;
      const m = Math.floor(ms/60000); ms -= m*60000;
      const s = Math.floor(ms/1000);
      const soon = (d <= 30);
      el.style.filter = soon ? 'saturate(1.1)' : 'none';
      el.innerHTML = `
        <div class=\"cd-box\"><div class=\"num\">${d}</div><div>jours</div></div>
        <div class=\"cd-box\"><div class=\"num\">${pad(h)}</div><div>heures</div></div>
        <div class=\"cd-box\"><div class=\"num\">${pad(m)}</div><div>min</div></div>
        <div class=\"cd-box\"><div class=\"num\">${pad(s)}</div><div>sec</div></div>`;
    }
    tick(); setInterval(tick,1000);
    // ann√©e dynamique en pied de page
    document.getElementById('year').textContent = new Date().getFullYear();

    // --------- Header : changement d'√©tat au scroll ---------
    const header = document.querySelector('.site-header');
    const onScroll = () => header.classList.toggle('scrolled', window.scrollY > 12);
    onScroll();
    window.addEventListener('scroll', onScroll, {passive:true});

    // --------- Timeline reveal (IntersectionObserver) ---------
    const items = document.querySelectorAll('.timeline .item');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('revealed'); io.unobserve(e.target); } });
    }, {threshold: .15});
    items.forEach(i=>io.observe(i));

    // --------- Lightbox minimaliste pour la galerie ---------
    const lb = document.createElement('div');
    lb.className = 'lightbox';
    lb.innerHTML = '<button class="close" aria-label="Fermer">Fermer ‚úï</button><img alt=""/>';
    document.body.appendChild(lb);
    const lbImg = lb.querySelector('img');
    lb.addEventListener('click', e=>{ if(e.target===lb || e.target.classList.contains('close')) lb.classList.remove('open'); });
    document.querySelectorAll('.gallery img').forEach(img=>{
      img.loading = 'lazy';
      img.style.cursor = 'zoom-in';
      img.addEventListener('click', ()=>{ lbImg.src = img.src; lb.classList.add('open'); });
    });

    // --------- RSVP via Formspree (POST FormData) ---------
    const rsvpForm = document.getElementById('rsvp-form');
    const rsvpSubmit = document.getElementById('rsvp-submit');
    const rsvpNote = document.getElementById('rsvp-note');
    const fsEndpoint = document.getElementById('fs-endpoint')?.value; // peut ne pas √™tre d√©fini tant que non remplac√©
    const ring = document.getElementById('ring');
    const toast = document.getElementById('toast');

    if(rsvpForm){
      rsvpForm.addEventListener('submit', async (e)=>{
        e.preventDefault();
        rsvpSubmit.disabled = true;
        const formData = new FormData(rsvpForm);
        formData.append('_subject', 'RSVP Mariage ‚Äî Nouvelle r√©ponse');
        try{
          if(!fsEndpoint) throw new Error('Endpoint Formspree manquant');
          const res = await fetch(fsEndpoint, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } });
          if(!res.ok) throw new Error('Erreur envoi');
          rsvpSubmit.classList.add('success');
          rsvpSubmit.querySelector('.check').textContent = '‚úì';
          ring.classList.add('show');
          toast.classList.add('show');
          rsvpNote.style.display = 'block';
          setTimeout(()=>{ toast.classList.remove('show'); }, 2200);
          setTimeout(()=>{ rsvpSubmit.disabled = false; }, 800);
          rsvpForm.reset();
        }catch(err){
          toast.textContent = "Oups, impossible d'envoyer. R√©essayez ou contactez-nous.";
          toast.classList.add('show');
          setTimeout(()=>toast.classList.remove('show'), 2600);
          rsvpSubmit.disabled = false;
        }finally{
          ring.classList.remove('show');
          ring.offsetHeight; // reflow pour relancer l'anim
          ring.classList.add('show');
          setTimeout(()=> ring.classList.remove('show'), 1200);
        }
      });
    }
  </script>
</body>
</html>
</html>
</html>
